<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Editar Autor</title>

 <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  
  
  <script>
  
   $.ajax({
		
		url:"/orbis/api/getAutor",
		type: "GET",
		success: function(data){
			
			console.log("GET DATA API RESPONSE ID:"+data.idAutor);
			console.log("GET DATA API RESPONSE AUTOR:"+data.nombreAutor);
			console.log("GET DATA API RESPONSE AUTOR:"+data.apellidosAutor);
			
			$(document).ready(function(){
				 
				  
			    $("#id").val(data.idAutor);
			    $("#nombreAutor").val(data.nombreAutor);
			    $("#apellidoAutor").val(data.apellidosAutor);
			  });
			
		},error:function(jqXHR, textStatus, errorThrown){		
		}	
		
	});
	
	
	/*var modelObj = {
			idAutor: 1234567890,
			nombreAutor:"Alfonso",
			apellidosAutor:"Jimenez"
			
	};
	
	console.log("post data:"+modelObj.idAutor);		
	
	 $.ajax({
            type: "POST",
            url: "/orbis/api/editarAutor",
            headers: {
                "Content-Type": "application/json"
            },
            data: JSON.stringify(modelObj),
            success: function (data) {
            	console.log("POST API RESPONSE::"+data);
            	$(document).ready(function(){
           		 
          		  
            	    $("#identificacion").val(data.idAutor);
            	    $("#nombreAutor").val(data.nombreAutor);
            	    $("#apellidoAutor").val(data.apellidoAutor);

            	  });
            },
            error: function (jqXHR, textStatus, errorThrown) {
            }
        });*/

  </script>
  
</head>
<body>

<h1>Editar autor</h1>

  <label for="identificacion">Identificacion</label>
  <input type="text" class="form-control" id="id">

  <label for="nombreAutor">Nombre del Autor</label>
  <input type="text" class="form-control" id="nombreAutor">
  
  <label for="apellidoAutor">apellido del Autor</label>
  <input type="text" class="form-control" id="apellidoAutor">

<p id=mensajeExito></p>
	<button type="button" class="btn btn-primary" id="btn-editar" onclick="apiEditar();">Editar</button>

<script type="text/javascript">


function apiEditar() {

	var modelObj = {
	idAutor: $("#id").val(),
	nombreAutor:$("#nombreAutor").val(),
	apellidosAutor:$("#apellidoAutor").val()

	};
	
	//var idAutor = idAutor: $("#identificacon").val();
	console.log("post data:"+modelObj.idAutor);		

	$.ajax({
	type: "POST",
	url: "/orbis/api/editarAutor",
	headers: {
    "Content-Type": "application/json"
	},
	data: JSON.stringify(modelObj),
	success: function (data) {
	console.log("POST API RESPONSE::"+data);
	$(document).ready(function(){
		 
		  
	    $("#mensajeExito").text("El autor ha editado correctamente");
	  
	  });
	
},
error: function (jqXHR, textStatus, errorThrown) {
}
});

}

</script>

</body>
</html>