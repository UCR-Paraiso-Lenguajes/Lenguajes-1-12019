<!DOCTYPE html>
<html>
<head>
<title>Metrics</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

</head>
<body>

<div id="internalization">
		<button data-tr="Spanish" id="btn-es" class="btn btn-default"></button>
		<button data-tr="English" id="btn-en" class="btn btn-default"></button>
	</div>

	<div class="container">

		<div class="row">
			<div id="panelTop" class="panel panel-default">

				<div class="dropdown">

					<div class="pull-right">

						<span id="glyphUser" class="glyphicon glyphicon-user"
							data-toggle="dropdown"></span>

						<ul class="dropdown-menu dropdown-menu-center"
							aria-labelledby="dropdownMenu">
							<li><a href="/mainScreen" data-tr="About Us"></a></li>
							<li><a href="/loginAdmin" data-tr="Log Out"></a></li>
						</ul>

					</div>
				</div>
			</div>
		</div>

		<div class="row">

			<div id="colformGrups" class="col-md-7 text-center">
				<div class="row">
					<div id="panelTittle" class="panel-group">
						<div class="panel panel-default" data-tr="Groups"></div>


						<div id="panelGroups" class="panel panel-default">

							<div class="panel panel-primary">
								<div class="table-wrapper-scroll-y my-custom-scrollbar">
									<div id="roomsList" class="row" th:each="room: ${rooms}">
										<div id="idImage" class="col-md-2">
											<img th:src="@{${room.avatar}}" height="25" width="25">
										</div>

										<div id="roomList" class="col-md-8">
											<button th:id="${room.id}" th:text="${room.name}"
												class="btn btn-primary" id="groupButton"
												th:value="${room.name}"></button>
											<!--  <span th:text="${room.name}"></span>-->
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
			<div id="colformMetric" class="col-md-7 text-center">
				<div class="row">
					<div id="panelTittle" class="panel-group">
						<div class="panel panel-default" data-tr="Metrics"></div>

						<div id="panelGroups" class="panel panel-default">

							<ul id="listMetrics" class="list-group list-group-flush">
								<div class="table-wrapper-scroll-y my-custom-scrollbar">
									<li class="list-group-item" data-tr="Average of Users Per Groups:"></li>
									<li class="list-group-item" data-tr="Date of the first login:"></li>
									<li class="list-group-item" data-tr="Date of the last message:"></li>
									<li class="list-group-item" data-tr="Last group created:"></li>
									<li class="list-group-item" data-tr="Longer message:"></li>
									<li class="list-group-item" data-tr="More messages per group:"></li>
									<li class="list-group-item" data-tr="More message per user:"></li>
									<li class="list-group-item" data-tr="Quantity room:"></li>
									<li class="list-group-item" data-tr="Quantity user:"></li>
									<li class="list-group-item" data-tr="User per room Prom:"></li>
								</div>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>



<script type="text/javascript">
	$("button").click(function() {
		var text = this.value;
		var grup = {
			"id" : this.id,
			"name" : text,
			"version" : 0,
			"url" : "",
			"avatar" : null,
			"listUsers" : [],
			"listMessage" : []
		};
		document.getElementById('panelGroups').innerHTML = '';
		
		console.log(grup);
		$.ajax({
			method : "GET",
			data : JSON.stringify(grup),
			contentType : "application/json; charset=utf-8",
			dataType : "json",
			url : "api/MectricUser"
		}).done(function(data) {

		}).fail(function(data) {
			console.log(data);

		});
	});
	
	frases = {
			"es" : {
				"Spanish" : "Español",
				"English" : "Ingles",
				"About Us" : "Acerca De Nosotros",
				"Log Out" : "Cerrar Sesión",
				"Groups" : "Grupos",
				"Metrics" : "Metricas",
				"Average of Users Per Groups:" : "Promedio de usuarios por grupos",
				"Date of the first login:" : "Fecha del primer Login",
				"Date of the last message:" : "Fecha del último mensaje",
				"Last group created:" : "Último grupo creado",
				"Longer message:" : "Mensaje más largo",
				"More messages per group:" : "Más mensajes por Grupo",
				"More message per user:" : "Más mensajes por Usuario",
				"Quantity room:":"Cantidad de Salas",
				"Quantity user:":"Cantidad de Usuarios",
				"User per room Prom:":"Promedio Usuarios por Sala",
			}
		};

		/**
		 * Función que cambia todos los elementos al nuevo idioma.
		 *
		 * @param {string} lang
		 */
		function cambiarIdioma(lang) {
			var elems = document.querySelectorAll('[data-tr]');
			for (var x = 0; x < elems.length; x++) {
				elems[x].innerHTML = frases.hasOwnProperty(lang) ? frases[lang][elems[x].dataset.tr]
						: elems[x].dataset.tr;
			}

		}

		window.onload = function() {
			cambiarIdioma();

			document.getElementById('btn-es').addEventListener('click',
					cambiarIdioma.bind(null, 'es'));

			document.getElementById('btn-en').addEventListener('click',
					cambiarIdioma.bind(null, 'en'));

		}
</script>
<style>
body {
	background-image:
		url(https://oinkmygod.com/wp-content/uploads/2018/03/recurso-wall-paper-oinkmygod-1-600x600.jpg);
}

.btn {
	width: 100%;
}

.container {
	margin-top: 75px;
}

.my-custom-scrollbar {
	position: relative;
	height: 370px;
	overflow: auto;
}

.table-wrapper-scroll-y {
	display: block;
}

#colformGrups {
	margin-left: 100px;
	border-style: ridge;
	border: 2px ridge #3D6F99;
	border-radius: 25px;
	width: 500px;
	height: 500px;
}

#listMetrics {
	border: 1px solid #3D6F99;
	padding: 12px; /* Add some padding */
	border-radius: 25px;
	margin-bottom: 130px;
	width: 100%;
	height: 385px;
	font-size: 15px;
	font-style: oblique;
	color: #0A0201;
	list-style: none;
	background-color: #DBEBF6;
}

#idImage {
	margin-top: 25px;
	margin-left: 25px;
}

#roomList {
	margin-top: 20px;
}

#item {
	margin-top: 10px;
	margin-left: 10px;
	height: auto;
	width: auto;
	text-align: left;
}

#colformMetric {
	border-radius: 25px;
	border: 2px solid #3D6F99;
	padding: 20px;
	width: 500px;
	height: 500px;
}

#panelGroups {
	margin-bottom: 130px;
	width: 100%;
	height: 385px;
	font-size: 20px;
}

#panelTittle {
	margin-top: 10px;
	width: 100%;
	height: 100px;
	font-size: 40px;
}

#glyphUser {
	font-size: 25px;
}

#panelTop {
	height: 100px;
	margin-left: 100px;
	border-radius: 25px;
	border: 2px solid #3D6F99;
	padding: 20px;
	margin-top: 10px;
	width: 1000px;
	border-style: ridge;
}

#internalization {
	margin-top: 25px;
	margin-left: 75%;
}

#panelUser {
	border-radius: 25px;
	border: 2px solid #3D6F99;
	width: 100%;
	height: 50px;
	font-size: 20px;
}
</style>

</html>